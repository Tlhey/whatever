<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>papers | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="1. Counterfactual fairnessCounterfactual fairnesslink: https:&#x2F;&#x2F;proceedings.neurips.cc&#x2F;paper_files&#x2F;paper&#x2F;2017&#x2F;file&#x2F;a486cd07e4ac3d270571622f4f316ec5-Paper.pdf Definitions: defs$A$: Protected attributes,">
<meta property="og:type" content="article">
<meta property="og:title" content="papers">
<meta property="og:url" content="http://example.com/2024/05/08/2024-05-08-Meetings-log/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="1. Counterfactual fairnessCounterfactual fairnesslink: https:&#x2F;&#x2F;proceedings.neurips.cc&#x2F;paper_files&#x2F;paper&#x2F;2017&#x2F;file&#x2F;a486cd07e4ac3d270571622f4f316ec5-Paper.pdf Definitions: defs$A$: Protected attributes,">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/papers/image.png">
<meta property="og:image" content="http://example.com/2024-05-08-papers/image-1.png">
<meta property="article:published_time" content="2024-05-09T00:11:06.000Z">
<meta property="article:modified_time" content="2024-12-15T03:59:04.000Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/papers/image.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-2024-05-08-Meetings-log" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/08/2024-05-08-Meetings-log/" class="article-date">
  <time class="dt-published" datetime="2024-05-09T00:11:06.000Z" itemprop="datePublished">2024-05-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      papers
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-Counterfactual-fairness"><a href="#1-Counterfactual-fairness" class="headerlink" title="1. Counterfactual fairness"></a>1. Counterfactual fairness</h1><p>Counterfactual fairness<br>link: <a target="_blank" rel="noopener" href="https://proceedings.neurips.cc/paper_files/paper/2017/file/a486cd07e4ac3d270571622f4f316ec5-Paper.pdf">https://proceedings.neurips.cc/paper_files/paper/2017/file/a486cd07e4ac3d270571622f4f316ec5-Paper.pdf</a></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>Definitions:</p>
<h4 id="defs"><a href="#defs" class="headerlink" title="defs"></a>defs</h4><p>$A$: Protected attributes, sensitive features<br>$X$: features of individuals, excluding A<br>$U$: latent features not observed, represented<br>$Y$: predictor    </p>
<h4 id="Fairness-through-unawareness-FTU"><a href="#Fairness-through-unawareness-FTU" class="headerlink" title="Fairness through unawareness (FTU):"></a>Fairness through unawareness (FTU):</h4><p><em>An algorithm is fair so long as any protected attributes $A$ are not explicitly used in the decision-making process.</em><br>Shortcoming: $X$ might intersects $A$</p>
<h4 id="Individual-Fairness-IF"><a href="#Individual-Fairness-IF" class="headerlink" title="Individual Fairness (IF)."></a>Individual Fairness (IF).</h4><p>For distance metric(should be carefully choosen), $d(\cdot , \cdot)$, if $d(i, j)$ is small, then $\hat Y(X^{(i)}, A^{(i)}) \approx \hat Y(X^{(j)}, A^{(j)})$</p>
<h4 id="Demographic-Parity-DP-äººå£ç»Ÿè®¡å­¦æ„ä¹‰ä¸Šçš„å¹³ç­‰"><a href="#Demographic-Parity-DP-äººå£ç»Ÿè®¡å­¦æ„ä¹‰ä¸Šçš„å¹³ç­‰" class="headerlink" title="Demographic Parity (DP)(äººå£ç»Ÿè®¡å­¦æ„ä¹‰ä¸Šçš„å¹³ç­‰)"></a>Demographic Parity (DP)(äººå£ç»Ÿè®¡å­¦æ„ä¹‰ä¸Šçš„å¹³ç­‰)</h4><p>Predictor $\hat Y$ satisfies demographic partiy if $P(\hat Y|A&#x3D;0)&#x3D;P(\hat Y|A&#x3D;1)$ </p>
<h4 id="Equality-of-Opportunity"><a href="#Equality-of-Opportunity" class="headerlink" title="Equality of Opportunity"></a>Equality of Opportunity</h4><p>$P(\hat Y|A&#x3D;0, Y&#x3D;1)&#x3D;P(\hat Y|A&#x3D;1, Y&#x3D;1)$ </p>
<h3 id="Causal-Models-å› æœæ¨æ–­-Counterfacutalã€"><a href="#Causal-Models-å› æœæ¨æ–­-Counterfacutalã€" class="headerlink" title="Causal Models(å› æœæ¨æ–­), Counterfacutalã€"></a>Causal Models(å› æœæ¨æ–­), Counterfacutalã€</h3><p>Casual Model $(U, V, F)$,<br>$U$: latent background variables,<br>$V$: observed variables, <br>$F&#x3D;{f_1. f_2, \cdots, f_n}$, for each $V_i&#x3D;f_i(pa_i, U_{pa_i})\in V, pa_i \subseteq V \backslash {V_i}$ </p>
<p><strong>Three Steps of Inference</strong>\</p>
<ul>
<li>Abductionï¼šfor a given prior on $U$, compute the posterior distribution of $U$ given the evidence $W &#x3D; w$</li>
<li>Actionï¼šsubstitute the equations for $Z$ with the interventional values $z$, resulting in the modified set of equations $F_z$</li>
<li>Prediction:</li>
</ul>
<h2 id="é¢˜å¤–è¯"><a href="#é¢˜å¤–è¯" class="headerlink" title="é¢˜å¤–è¯"></a>é¢˜å¤–è¯</h2><h3 id="Casual-Models-å› æœæ¨æ–­"><a href="#Casual-Models-å› æœæ¨æ–­" class="headerlink" title="Casual Models (å› æœæ¨æ–­)"></a>Casual Models (å› æœæ¨æ–­)</h3><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/column/c_1217887302124773376">https://www.zhihu.com/column/c_1217887302124773376</a></p>
<h4 id="Three-levels"><a href="#Three-levels" class="headerlink" title="Three levels:"></a>Three levels:</h4><ol>
<li>Association: $A-B$ </li>
<li>Interventionï¼š$A&#x2F;Aâ€™ \rightarrow B?$</li>
<li>Counterfactual $ want\ Bâ€™, how A\rightarrow Aâ€™$</li>
</ol>
<h4 id="Beyasian-Network"><a href="#Beyasian-Network" class="headerlink" title="Beyasian Network"></a>Beyasian Network</h4><p>In Directed acyclic Graph (DAG):<br><img src="/papers/image.png" alt="alt text"></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/mantch/p/11179933.html">https://www.cnblogs.com/mantch/p/11179933.html</a><br>Component:</p>
<ol>
<li>head-to-head $a\rightarrow c\leftarrow b$ <br>$P(a,b,c) &#x3D; P(a)P(b)P(c|a,b)$,<br>unknown $c$, $a, b$ are blocked thus independent</li>
<li>tail-to-tail $a\leftarrow c\rightarrow b$</li>
</ol>
<ul>
<li>$c$ unknown, $P(a,b,c)&#x3D;P(c)P(a|c)P(b|c)$, $a, b$, not independent</li>
<li>$c$ known, $P(a,b,c)&#x3D;P(c)P(a|c)P(b|c)$, $P(a,b|c)&#x3D;P(a,b,c)&#x2F;P(c)&#x3D;P(a|c)*P(b|c)$, $a, b $independent</li>
</ul>
<ol start="3">
<li>head-to-tail (Markov Chain) $A\rightarrow C\rightarrow B$</li>
</ol>
<ul>
<li>$c$ unknown, $a, b$, not independent</li>
<li>$c$ known, $a, b$ independent</li>
</ul>
<p><strong>Factor Graph</strong></p>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><p>Confounder</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æˆ‘ä»ä¸€å¤©å‰å¼€å§‹çœ‹è®ºæ–‡ï¼Œè¢«casual modelçš„æ¦‚å¿µå¸å¼•äº†ã€‚æˆ‘è®¤ä¸ºæ˜¯å¾ˆå¥½çš„ä¸€ä¸ªç†è§£æ–¹å¼ã€‚ä»æ—©ä¸Šäº”ç‚¹å‡†å¤‡åˆ°åä¸€ç‚¹ã€‚<br>ä»Šå¤©åšäº†preï¼Œæ•ˆæœå¾ˆå·®ã€‚</p>
<ol>
<li>å¯¹æ¦‚ç‡çš„å„ç§å…¬å¼å¾ˆä¸å¤ªäº†è§£ã€‚å¯¹è´å¶æ–¯å’ŒMCMCä¸ä¼šã€‚</li>
<li>æ²¡æœ‰å»æƒ³è¿‡$U ,A, X$çš„å…³ç³»ã€‚æ²¡æœ‰åŠæ³•å¾ˆå¥½çš„è§£é‡Šè®ºæ–‡ä¸­çš„é€»è¾‘å…³ç³»ã€‚</li>
</ol>
<p>åœ¨å¼€ä¼šçš„æ—¶å€™æ•™æˆè¯´é‡è¦ä¸œè¥¿ï¼š</p>
<ol>
<li>Counterfactual <br>è¿™ç¯‡æœ€é‡è¦çš„æ˜¯ï¼š <strong>Definition 5:</strong> $P(\hat Y_{A\leftarrow a}(U)|X&#x3D;x, A&#x3D;a)&#x3D;P(\hat Y_{A\leftarrow aâ€™}(U)|X&#x3D;x, A&#x3D;a)$ <br>å¾ˆå¤šâ€˜æ¦‚ç‡â€™åªæ˜¯è¡¨ç¤ºæ–¹æ³•ã€‚ï¼ˆä½†æ˜¯ç¡®å®ä¸å¾ˆç†è§£æ¦‚ç‡ï¼‰<br>ç®—æ³•çš„æ€æƒ³åœ¨äºï¼š1. å¼•å…¥å› æœå›¾ã€‚2.å¯»æ‰¾Uï¼ˆ17å¹´MCMCï¼Œç°åœ¨å¯ä»¥GANï¼Œæˆ–å…¶ä»–ç”Ÿæˆå¼å­¦ä¹ æ–¹æ³•ï¼‰ã€‚</li>
<li>$U \rightarrow Xï¼ŒA$<br>åœ¨è®¡ç®—ä¸­ç”¨$X, A \rightarrow U$ æœ‰ä¸€äº›ç±»ä¼¼Adversarial learning. å¯ä»¥ç ”ç©¶æ€ä¹ˆå¥—ç”¨ã€‚</li>
<li>GAD</li>
<li>æœ‰ç‚¹æƒ³åštransfer learning çš„é‚£ç§</li>
</ol>
<h1 id="FairGAD"><a href="#FairGAD" class="headerlink" title="FairGAD"></a>FairGAD</h1><p><a target="_blank" rel="noopener" href="https://openreview.net/forum?id=3cE6NKYy8x">https://openreview.net/forum?id=3cE6NKYy8x</a></p>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2307.04937">https://arxiv.org/abs/2307.04937</a></p>
<h2 id="Fair-GAD-problem"><a href="#Fair-GAD-problem" class="headerlink" title="Fair GAD problem"></a>Fair GAD problem</h2><p><strong>GAD</strong><br>$G&#x3D;(V, E, X)$, <br>node feature matrix $X\in \R^{n\times d}$, <br>Adjacency matrix $A\in {0,1}^{n\times n}$, <br>Anomaly labels $Y\in {0, 1}^n$, predicted $\hat Y$, <br><strong>Fair GAD</strong><br>sensitive attributes $S\in {0, 1}^n$, a binary feature $X$.<br>Performance matrix: accuracy and <em>AUCROC</em>: Area under the ROC Curve <br>Unfairness Mextrics, Statistic Parity(SP):$SP &#x3D; |P(\hat Y&#x3D;1|S&#x3D;0)âˆ’P(\hat Y &#x3D;1|S&#x3D;1)|$, <br>Equality of Odds <em>(EOO)</em>: $SP &#x3D; |P(\hat Y&#x3D;1|S&#x3D;0, Y&#x3D;1)âˆ’P(\hat Y &#x3D;1|S&#x3D;1, Y&#x3D;1)|$</p>
<h2 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h2><ul>
<li>Reddit:<br>graph structureï¼š linking two user posted the name subreddit within 24h.<br>Node feature: Embedding from post histories.</li>
<li>Twitter:<br>graph structure:: A follows B.<br>Node feature: demographic infromation using M3 system, multimodal, multilingual, multi attirbute demographix inderence framework.</li>
</ul>
<!-- ## GAD Methods
### DOMINANT (Ding et al., 2019a)
### CONAD (Xu et al., 2022)
### COLA (Liu et al., 2021)
### VGOD (Huang et al., 2023)

## Non-Graph AD methods
- DONE (Bandyopadhyay et al., 2020)
- AdONE (Bandyopadhyay et al., 2020)
- ECOD (Li et al., 2022)
- VAE (Kingma & Welling, 2014)
- ONE (Bandyopadhyay et al., 2019)
- LOF (Breunig et al., 2000)
- F (Liu et al., 2008)

## Fainess Method:
### FAIROD (Shekhar et al., 2021)
### CORRELATION (Shekhar et al., 2021)
### HIN (Zeng et al., 2021)
### EDITS (Dong et al., 2022)
### FAIRWALK (Rahman et al., 2019)

## Distance 
### Wasserstein Distance
### Minkowski distance -->



<h1 id="2024-05-23-Meeting-summary"><a href="#2024-05-23-Meeting-summary" class="headerlink" title="2024.05.23 Meeting summary"></a>2024.05.23 Meeting summary</h1><ol>
<li>è®¨è®ºäº†FairGADã€‚å¦‚æœä¸€ä¸ªæ–‡ç« çš„è´¡çŒ®æ˜¯æ•°æ®é›†ï¼Œé‚£ä¹ˆéœ€è¦è¯¦ç»†çš„Benchmarking: æœ‰ä¸€ç¯‡surveyçš„æ€§è´¨ï¼Œæ˜ç™½å„ç§æ–¹æ³•åœ¨æ•°æ®é›†ä¸Šè¡¨ç°æ€ä¹ˆæ ·ï¼Œæå‡ºä¸€ä¸ªè¯„åˆ¤æ ‡å‡†ï¼Œåªç”¨EOOä½œä¸ºfairçš„åˆ¤æ–­å¤ªç®€çŸ­äº†ã€‚</li>
<li>åŸºäºsentivityçš„Counterfactual fairnessçš„è¯„åˆ¤æ ‡å‡†ï¼Œæˆ‘ä»¬ç”¨ä»€ä¹ˆæ ·çš„è¯„åˆ¤æ ‡å‡†å’Œ<br>2.1 æœ€ç®€å•çš„æ„é€ æ–¹æ³• anomaly datasetï¼šclassification with y&#x3D;1,2,3,4,5ã€‚æ‹¿å¾ˆå¤š1ï¼Œsampleè¾ƒå°‘2345.<br>2.2 æ‰¾ä¸€äº›graphä¸Šæ•°æ®é›†ï¼Œç”¨GADçš„æ–¹æ³•ï¼Œå˜æˆfairGADçš„æ•°æ®é›†ã€‚ä½†æ˜¯FairGADï¼Œæ˜¯GADæ•°æ®é›†inject fairnessï¼Œå¯èƒ½ä¸å¤ªå¥½ã€‚<br>2.3</li>
</ol>
<h2 id="Task-of-this-week"><a href="#Task-of-this-week" class="headerlink" title="Task of this week"></a>Task of this week</h2><p>create synthetic data for fair GAD</p>
<ol>
<li>Note this paper: <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2304.01391">https://arxiv.org/pdf/2304.01391</a> for a survey on graph counterfactual. To create a synthetic dataset, see their Section 3.5.1, where the data creation method is detailed in <a target="_blank" rel="noopener" href="https://arxiv.org/abs/2201.03662">https://arxiv.org/abs/2201.03662</a>.</li>
<li>See pygod <a target="_blank" rel="noopener" href="https://github.com/pygod-team/pygod">https://github.com/pygod-team/pygod</a> for outlier injection method to the graph dataset. Also, see Jingâ€™s paper <a target="_blank" rel="noopener" href="https://proceedings.mlr.press/v231/gu24a/gu24a.pdf">https://proceedings.mlr.press/v231/gu24a/gu24a.pdf</a> for improvement.</li>
<li>Next Friday, you can try to talk about how to generate the synthetic data and how this falls into counterfactual category.</li>
</ol>
<p>æ‰€ä»¥å°±æ˜¯è¦å€Ÿé‰´åˆ›å»ºæ•°æ®é›†çš„æ–¹æ³•ã€‚è¿˜æœ‰å­¦ä¹ ä¸€äº›counterfactualã€‚ </p>
<h2 id="2024-Counterfactual-Learning-on-Graphs-A-Survey"><a href="#2024-Counterfactual-Learning-on-Graphs-A-Survey" class="headerlink" title="2024 Counterfactual Learning on Graphs: A Survey"></a>2024 Counterfactual Learning on Graphs: A Survey</h2><p>3.5.1 How to create synthetic dataset </p>
<h2 id="2022-Learning-Fair-Node-Representations-with-Graph-Counter-factual-Fairness"><a href="#2022-Learning-Fair-Node-Representations-with-Graph-Counter-factual-Fairness" class="headerlink" title="2022 Learning Fair Node Representations with Graph Counter factual Fairness"></a>2022 Learning Fair Node Representations with Graph Counter factual Fairness</h2><p>Two limitation on existing CF on graph:</p>
<ol>
<li>$S_i$ affect the predetection. Red</li>
<li>$S_i$ affect $A, X_i$ Green</li>
</ol>
<p>GEAR: Graph Counterfactually Fair Node Representation</p>
<ol>
<li>subgraph generation<br>Node <strong>Importance Score</strong> by prune range of casualmodel to <strong>ego-centric subgraph</strong>( node and its neighbour)</li>
<li>Counterfactual Data Argmentation:<br>Graph Auto encodder and fair contrains: <strong>self-pertubation</strong>(flip its $S_i$), <strong>neighbour pertubatiob</strong></li>
<li>Node Representation Learning  :<br>Siamese network to minimize discrepancy</li>
</ol>
<p><strong>Def, Graph conterfactual fairness:</strong><br>An encoder $\Phi(\cdot)$ satisfies graph counterfactual fairness if for any node $i$:<br>$$<br>P((Z_i)<em>{S \leftarrow sâ€™} | X &#x3D; \mathbf{X}, A &#x3D; \mathbf{A}) &#x3D; P((Z_i)</em>{S \leftarrow sâ€™â€™} | X &#x3D; \mathbf{X}, A &#x3D; \mathbf{A}),<br>$$<br>for all $sâ€™ \neq sâ€™â€™$, where $sâ€™, sâ€™â€™ \in {0, 1}^n$ are arbitrary sensitive attribute values of all nodes, $Z_i &#x3D; (\Phi(\mathbf{X}, \mathbf{A}))_i$ denotes the node representations.</p>
<p>$\Phi$, minimize the discrepancy between representation $\Phi(X_{S\leftarrow sâ€™}, A_{S\leftarrow sâ€™})$ and $\Phi(X_{S\leftarrow sâ€™â€™}, A_{S\leftarrow sâ€™â€™})$</p>
<h3 id="GEAR"><a href="#GEAR" class="headerlink" title="GEAR"></a>GEAR</h3><h3 id="1-subgraph-generation"><a href="#1-subgraph-generation" class="headerlink" title="1) subgraph generation"></a>1) subgraph generation</h3><p>Personalized Pagerank algorithm:<br>Importance score $\mathbf R&#x3D;\alpha (\mathbf I-(1-\alpha \mathbf {\bar A}))$, $\mathbf I$, identity<br>$R_{i,j}$ How node $j$ is important for node $i$, $\alpha \in [0,1]$</p>
<p>$\mathbf {\bar A}&#x3D;\mathbf A \mathbf D^{-1} $ column-normalized adjacency matric, $\mathbf D: \mathbf D_{i, i}&#x3D;\sum_j A{i, j}$</p>
<p>$\mathcal{G}^{(i)}&#x3D;Sub(i, \mathcal{G}, k)$ :, subgraph generation</p>
<ul>
<li><p>$\mathcal{G}^{(i)} &#x3D; { \mathcal{V}^{(i)}, \mathcal{E}^{(i)}, \mathbf{X}^{(i)} } &#x3D; { \mathbf{A}^{(i)}, \mathbf{X}^{(i)} },<br>$ Vertive, Edge, Features with $S&#x3D;{s_i}_{i&#x3D;1}^n $ includes in $X$, and $X^{\neg s} &#x3D; { x_1^{\neg s}, â€¦, x_n^{\neg s} } $, where $ x_i^{\neg s} &#x3D; x_i \setminus s_i$</p>
</li>
<li><p>$\mathcal{V}^{(i)} &#x3D; \text{TOP}(\mathbf{R}_{i,:}, k),$</p>
</li>
<li><p>$\mathbf{A}^{(i)} &#x3D; \mathbf{A}<em>{\mathcal{V}^{(i)}, \mathcal{V}^{(i)}}, \quad \mathbf{X}^{(i)} &#x3D; \mathbf{X}</em>{\mathcal{V}^{(i)}, :},<br>$,</p>
</li>
</ul>
<h3 id="2ï¼‰Counterfactual-Data-Augmentation"><a href="#2ï¼‰Counterfactual-Data-Augmentation" class="headerlink" title="2ï¼‰Counterfactual Data Augmentation"></a>2ï¼‰Counterfactual Data Augmentation</h3><p><strong>GraphVAG</strong>: graph variational auto-encoder<br>latent embedding $H&#x3D;{h_1, h_2, \cdots, h_k}$  $H$ is sampled from $q(H|X, A)$,  $p(ğ»)$ is a standard Normal prior distribution<br>$\mathcal{L}&#x3D;$</p>
<p>$\tilde{s}_i$: summary of neighbor info, aggregationof all nodes in subgarph $\mathcal{G}^{(i)}$<br>$\tilde{s}<em>i &#x3D; \frac{1}{|\mathcal{V}^{(i)}|} \sum</em>{j \in \mathcal{V}^{(i)}} s_j$</p>
<p>Discriminator,$D(\cdot)$<br>$D(\mathbf{H}, b)$  predicts the probability of whether the summary of sensitive attribute values is in range $b$</p>
<p>Fairness Constraint<br>$L_d &#x3D; \sum_{b \in B} \mathbb{E} [\log(D(\mathbf{H}, b))]$<br>$L_d$ is a regularizer to minimize the mutual information between the summary of sensitive attribute values and the<br>embeddings</p>
<p><strong>Final Loss</strong> for Counterfactual Data Augmentation<br>$L_a &#x3D; L_r + \beta L_d$<br>$\beta$ is a hyperparameter for the weight of fairness constraint<br>Use alternating SGD for optimization: </p>
<ol>
<li>minimize $L_{a}$ by fixing the discriminator and updating parameters in other parts; </li>
<li>minimize $âˆ’L_{a}$ with respect to the discriminator while other parts fixed.</li>
</ol>
<h4 id="Self-Perturbation"><a href="#Self-Perturbation" class="headerlink" title="Self-Perturbation"></a>Self-Perturbation</h4><p>$\overline{\mathcal{G}}^{(i)} &#x3D; { \mathcal{G}^{(i)}_{S_i \leftarrow 1-s_i} }$ (flipping sensitive feature)</p>
<h4 id="Neighbor-Perturbation"><a href="#Neighbor-Perturbation" class="headerlink" title="Neighbor-Perturbation"></a>Neighbor-Perturbation</h4><p>$\underline{\mathcal{G}}^{(i)} &#x3D; \left{ \mathcal{G}^{(i)}<em>{S^{(i)}</em>{\setminus i} \leftarrow \text{SMP}(S^{(i)}<em>{\mathcal{V}^{(i)}</em>{\setminus i}})} \right}$</p>
<p>subgraph $\mathcal{G}^{(i)}$ ego($i$)-center subgraph with noes $\mathcal{V}^{(i)}$, exclude node $i$: $\mathcal{V}^{(i)}<em>{\setminus i}$, randomly preterbe the sentsitice value of other nodes: $SMP(\mathcal{V}^{(i)}</em>{\setminus i})$</p>
<p>Reconstruction Loss (GraphVAE Module)<br>$L_r &#x3D; \mathbb{E}_{q(\mathbf{H}|X, A)} \left[ -\log(p(X, A | \mathbf{H}, S)) \right] + \text{KL}[q(\mathbf{H} | X, A) | p(\mathbf{H})]$</p>
<h3 id="3-Fair-Representation-learning"><a href="#3-Fair-Representation-learning" class="headerlink" title="3) Fair Representation learning"></a>3) Fair Representation learning</h3><p><strong>Fairness Loss</strong><br>$<br>L_f &#x3D; \frac{1}{|\mathcal{V}|} \sum_{i \in \mathcal{V}} \left( (1 - \lambda_s) d(z_i, \bar{z}_i) + \lambda_s d(z_i, \underline{z}_i) \right),<br>$<br>$\lambda_s$ hyperparam control neig-preturbation weight</p>
<p><strong>Node Representations</strong></p>
<ul>
<li>$<br>z_i &#x3D; (\phi(\mathbf{X}^{(i)}, \mathbf{A}^{(i)}))_i,<br>$</li>
<li>$<br>\bar{z}<em>i &#x3D; \text{AGG} \left( \left{ (\phi(\mathbf{X}^{(i)}</em>{S_i \leftarrow 1-s_i}, \mathbf{A}^{(i)}_{S_i \leftarrow 1-s_i}))_i \right} \right),<br>$</li>
<li>$<br>\underline{z}<em>i &#x3D; \text{AGG} \left( \left{ (\phi(\mathbf{X}^{(i)}</em>{S_i \leftarrow \text{SMP}(S^{(i)}<em>{\mathcal{V}^{(i)}</em>{\setminus i}})}, \mathbf{A}^{(i)}<em>{S_i \leftarrow \text{SMP}(S^{(i)}</em>{\mathcal{V}^{(i)}_{\setminus i}})})_i \right} \right),<br>$</li>
</ul>
<p>Prediction Loss<br>$L_p &#x3D; \frac{1}{n} \sum_{i \in [n]} l(f(z_i), y_i),$ $l$: could be CE(Cross entropy), $f(\cdot)$ makes predictions for downstream tasks with the representations, i.e.$ \hat y_i&#x3D;f(z_i)$</p>
<p>Overall Loss<br>$<br>L &#x3D; L_p + \lambda L_f + \mu | \theta |^2,<br>$</p>
<h3 id="Dataset-creation"><a href="#Dataset-creation" class="headerlink" title="Dataset creation"></a>Dataset creation</h3><p>Sensitive Attributes<br>$S_i \sim \text{Bernoulli}(p),$ $p&#x3D;0.4$ percent $S_i&#x3D;1$</p>
<p>Latent Embeddings<br>$Z_i \sim \mathcal{N}(0, \mathbf{I}),$ <br>$\mathbf{I}$ identity, dimension of $Z_i$: $d_s&#x3D;50$</p>
<p>Node Features<br>$X_i &#x3D; \mathcal{S}(Z_i) + S_i \mathbf{v},$<br>sampling operation $S(\cdot)$ select 25 dims from $Z_i$, $\mathbf{v} \sim \mathcal{N}(0, \mathbf{I})$</p>
<p>Graph Structure<br>$P(A_{i,j} &#x3D; 1) &#x3D; \sigma(\text{cos}(Z_i, Z_j) + a \mathbf{1}(S_i &#x3D; S_j)),$<br>$\sigma$ sigmoid function, $\mathbf{1}(S_i &#x3D; S_j)&#x3D;&#x3D;S_i &#x3D; S_j. \alpha&#x3D;0.01$</p>
<p>Node Labels<br>$Y_i &#x3D; \mathcal{B}(w Z_i + w_s \frac{\sum_{j \in \mathcal{N}_i} S_j}{|\mathcal{N}_i|}),$<br>$\mathcal{B}$ Bernulli distribution,$\mathcal{N}_i$ set of neighbors of node i $w, w_i$ weight vector</p>
<h3 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h3><p>Using Synthetic dataset, Bail, Credit</p>
<h2 id="24-Three-Revisits-to-Node-Level-Graph-Anomaly-Detection"><a href="#24-Three-Revisits-to-Node-Level-Graph-Anomaly-Detection" class="headerlink" title="24 Three Revisits to Node-Level Graph Anomaly Detection"></a>24 Three Revisits to Node-Level Graph Anomaly Detection</h2><p>Outliers, Message Passing and Hyperbolic Neural Networks</p>
<h3 id="Previous-Outlier-injection-method"><a href="#Previous-Outlier-injection-method" class="headerlink" title="Previous Outlier injection method"></a>Previous Outlier injection method</h3><p>$\mathcal{G}&#x3D;(\mathcal{V}, \mathcal{E}, X, y)$: vertice set, edge set, attibute matrix, label of class</p>
<ul>
<li><p><strong>Contextual(cntxt.) outlier injection</strong><br>Normalize features $x_iâ€™&#x3D;\frac{x_i}{||x_i||_1}$<br>Sample $o$ nodes from $\mathcal{V}$ as $\mathcal{V}_c$. without replacement<br>For node $i$ in $\mathcal{V}_c$, sample $q$ nodes from $\mathcal{V}_r&#x3D;\mathcal{V}- \mathcal{V}_c$, among them choose the farthest one $j &#x3D; \text{argmax}_k(||x_iâ€™-x_kâ€™||_2)$ to replace $x_i$ with $x_j$.</p>
</li>
<li><p><strong>Strctural(stct.) outlier injection</strong><br>create $t$ groups sized $s$ with anomalous nodes.<br>sample $o&#x3D;t\times s$ from $\mathcal{V}$ without replacement<br>Then randoms partition into $t$ groups.<br>Add edges to make them a clique(fully connected), then drop edges with $p$ probability</p>
</li>
</ul>
<h4 id="Score-function"><a href="#Score-function" class="headerlink" title="Score function"></a>Score function</h4><p>The farthest node will have large $||\tilde{\mathbf x}_i||_2$ <br>A structural outlier node $i$ will have many neighbors leads to large $||\tilde{\mathbf a}_i||_1$ </p>
<p>Score function: $score_{norm}(i)&#x3D;\alpha||\tilde{\mathbf x}_i||_2+(1-\alpha)||\tilde {\mathbf a}_i||_1$,  $\tilde{\mathbf x}_i$: $x_i$ after outlier injection, $\tilde{\mathbf a}<em>i$: $a_i$ after outlier injection, $A</em>{ii}&#x3D;1$<br>where cntxt OD, $\alpha&#x3D;1$, stct OD, $\alpha&#x3D;0$ :  $\alpha$ ratio of two methods </p>
<p>test 1: ROC-AUC<br>For each dataset, use original dataset v.s. l2-nrom for each $x_i$<br>do anomaly injection. apply GAD Method to get  $score_{norm}$</p>
<h3 id="Novel-Anomaly-injection-method"><a href="#Novel-Anomaly-injection-method" class="headerlink" title="Novel Anomaly injection method"></a>Novel Anomaly injection method</h3><h2 id="Sum-in-terms-of-Dataset"><a href="#Sum-in-terms-of-Dataset" class="headerlink" title="Sum in terms of Dataset"></a>Sum in terms of Dataset</h2><p>ä»æ•°æ®é›†çš„è§’åº¦æ¥è¯´ï¼š</p>
<h3 id="FairGAD-1"><a href="#FairGAD-1" class="headerlink" title="FairGAD:"></a>FairGAD:</h3><p>Reddit:</p>
<ul>
<li>æ•°æ®æ¥æºï¼šPost on politic related subReddit</li>
<li>Labelling Y: based on FACTOID(Sakketou et al., 2022), use the num of posted link(left or right)</li>
<li>Graph construciton:</li>
</ul>
<p><br><br><br><br><br><br><br><br><br><br><br><br>\</p>
<h1 id="2024-05-31-Meeting"><a href="#2024-05-31-Meeting" class="headerlink" title="2024.05.31 Meeting"></a>2024.05.31 Meeting</h1><p>Preparation: </p>
<ol>
<li>è®¨è®ºå¯¹äºSynthetic dataset æ€ä¹ˆåˆ›å»ºçš„ç†è§£ã€‚</li>
<li>å¯¹outlier datasetæ€ä¹ˆåˆ›å»ºçš„ç†è§£ã€‚</li>
<li>fair + outlier (å‚è€ƒFairGADé‚£ç¯‡çš„åˆ›å»º)</li>
</ol>
<!-- è¿™ä¸€å‘¨èŠ±äº†ä¸‰å››å¤©åœ¨ä¿¡ä¸€çš„èº«ä¸Šï¼Œä¸€ç§åƒ­è¶Šçš„å¿«ä¹ã€‚
ä½“æ‚Ÿæ˜¯ï¼Œ 
1. å­¦ä¸œè¥¿çš„ç›®çš„æ€§è¿˜æ˜¯ä¸å¤Ÿæ˜æ˜¾ã€‚
2. è¾¹å¬è¯¾è¾¹çœ‹è®ºæ–‡ä¼šå²·å¿æé«˜ç›®çš„æ€§å’Œæé«˜æ•ˆç‡ã€‚
3. å‡å°‘è¿‡åº¦åŠŸåˆ©çš„éœ€æ±‚ï¼Œå­¦ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿ï¼Œå°½é‡é¿å¼€äººã€‚
4. èƒŒå•è¯ã€‚GREè¦å¯„äº†ã€‚ -->


<p><strong>Meeting</strong></p>
<ol>
<li><p>Plan for subgroups:<br>Mo, We 1-2 p.m.</p>
</li>
<li><p>intro to all projects<br>HNN: Convolution $\rightarrow$ HNN<br>CNN(T(x)) Paralell Translation equivalence</p>
</li>
</ol>
<h2 id="Dataset"><a href="#Dataset" class="headerlink" title="Dataset"></a>Dataset</h2><p><img src="/2024-05-08-papers/image-1.png" alt="alt text"> from FairGAD(2024)<br>##<br>Pokec: </p>
<ul>
<li>source paper: <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2009.01454">https://arxiv.org/pdf/2009.01454</a></li>
<li>repo: FairGNN  <a target="_blank" rel="noopener" href="https://github.com/EnyanDai/FairGNN">https://github.com/EnyanDai/FairGNN</a><br>sampled from <a target="_blank" rel="noopener" href="https://snap.stanford.edu/data/soc-Pokec.html">https://snap.stanford.edu/data/soc-Pokec.html</a></li>
</ul>
<p>Bail, Credit, German:</p>
<ul>
<li>source paper: <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2108.05233">https://arxiv.org/pdf/2108.05233</a> (Dong et al. 2022)<br>  <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1102.2166">https://arxiv.org/pdf/1102.2166</a> (2012)</li>
<li>repo: EDITS <a target="_blank" rel="noopener" href="https://github.com/yushundong/EDITS">https://github.com/yushundong/EDITS</a></li>
</ul>
<p>(æ„Ÿè§‰è®ºæ–‡éƒ¨åˆ†å¼•ç”¨åäº†)</p>
<p>German</p>
<ul>
<li>source paper: <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2102.13186">https://arxiv.org/pdf/2102.13186</a> (2021)</li>
<li>repo: NIFTY <a target="_blank" rel="noopener" href="https://github.com/HongduanTian/NIFTY">https://github.com/HongduanTian/NIFTY</a></li>
</ul>
<p>UCSD34:</p>
<ul>
<li>repo: <a target="_blank" rel="noopener" href="https://networkrepository.com/socfb-UCSD34.php">https://networkrepository.com/socfb-UCSD34.php</a></li>
</ul>
<h1 id="2024-06-03-Meeting"><a href="#2024-06-03-Meeting" class="headerlink" title="2024.06.03 Meeting"></a>2024.06.03 Meeting</h1><ol>
<li>Gujingå­¦å§çš„è®ºæ–‡æ˜¯ unsupervised learningï¼ŒæŒ‰ç…§å¥¹åœ¨pygodé‡Œé¢çš„æ–¹æ³•ï¼ŒæŠŠäºŒåˆ†ç±»çš„ä»»åŠ¡ç”¨fiarness metrixï¼Œç”¨counterfacutalé‡Œçš„è¯„åˆ¤æ ‡å‡†ã€‚EOO, SP, CF(åªåœ¨Syntheticé‡Œæœ‰)</li>
</ol>
<p>æ‰€ä»¥è¦å†™çš„æ˜¯ï¼š </p>
<ol>
<li>Fairness metrix çš„è®¡ç®—ï¼Œå¤šç§</li>
<li>ä½¿ç”¨å„ç§æ–¹æ³•è·‘ä¸€ä¸‹æ•°æ®é›†ã€‚å¾—åˆ°fairå’Œaccuracyï¼Œå‚è€ƒåˆ«çš„è®ºæ–‡ã€‚</li>
</ol>
<p>é•¿æœŸä»»åŠ¡ï¼š</p>
<ol>
<li><p>WSDM 22â€™ çš„åšcounterfactual Data argumentation å’ŒGADçš„æ–¹æ³•æ— å…³ã€‚ï¼Œæ€»çš„æ¥è¯´æ˜¯åœ¨ä¸åŒGAD æ–¹æ³•ä¸Šconsistently improve fairness. WSDM æ˜¯åœ¨æ•°æ®é›†çš„encodingå’Œencodingä¸Šç”¨çš„fairnessã€‚<br>Detection ä¹Ÿæ˜¯ç”¨en&#x2F;decodingåšçš„ï¼Ÿæœ‰çš„ç”¨GNNä¹Ÿå°±å¯ä»¥predictionäº†ã€‚å¯ä»¥è¯•ç€ç”»ä¸€ä¸ªå›¾ã€‚ </p>
</li>
<li><p>224Wå¯ä»¥çœ‹17-19ï¼Œ 21å’Œå‰é¢encodingéƒ¨åˆ†åœ¨å­¦ä¸€ä¸‹ã€‚</p>
</li>
<li><p>å› æœæ¨æ–­çš„Counterfactualéƒ¨åˆ†çš„å…¬å¼</p>
</li>
</ol>
<h2 id="Execute"><a href="#Execute" class="headerlink" title="Execute"></a>Execute</h2><p>6.3: è§£å†³</p>
<ol>
<li>Synthetic dataset have about $\frac{|V|^2}{2}$ edges when v&#x3D;2000(paper), edge should be about 4000?<br>solved by Finding source code of paper in GEAR repo</li>
<li>Threading problem with python not shoot<br>solved by commenting the 22th line in loader.py # from ogb.nodeproppred import PygNodePropPredDataset</li>
</ol>
<p>6.4</p>
<ol>
<li>å¯ä»¥ä½¿ç”¨ä¸€äº›æ–¹æ³•ï¼Œ<br>WSDM 22 GEAR çš„è®ºæ–‡é‡Œç”¨GCN, GraphSAGE, GIN, C-ENC, FairGNN, NIFTY-GCN, NIFTY-SAGE, and GEAR<br>Gu 24 HNN çš„è®ºæ–‡ç”¨pygodçš„GADçš„åº“<br>ä½†æ˜¯éƒ½æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ä»£ç </li>
</ol>
<p>Gear&#x2F;src</p>
<ul>
<li>utils.py: <ol>
<li>load_dataset, sub function</li>
<li>accuracy</li>
</ol>
</li>
<li>Preprocessing.py:<ol>
<li>load_data() deal with params</li>
<li>generate cf subgraph(æ— å…³)</li>
<li>generate_synthetic_data</li>
</ol>
</li>
<li>models.py:<ol>
<li>GCN, GIN, JK, SAGE, Encoder_DGI, GraphInMax, Encoder, Classifier,<br>  GraphCF,</li>
</ol>
</li>
<li>main.py<ol>
<li>parser.argment()</li>
<li>evaluate: acc, fairness</li>
<li>compute loss, evaluate sf</li>
<li>train test</li>
</ol>
</li>
</ul>
<p>HNN_GAD<br>æ ¹æ®æˆ‘çš„è§‚å¯Ÿï¼Œè¿™ç¯‡é‡Œé¢åªå†™äº†è‡ªå·±çš„æ–¹æ³•çš„ä»£ç ã€‚</p>
<p>6.5 Meeting<br>å†³å®šç”¨ray tuneæ¥è°ƒå‚<a target="_blank" rel="noopener" href="https://pytorch.org/tutorials/beginner/hyperparameter_tuning_tutorial.html">https://pytorch.org/tutorials/beginner/hyperparameter_tuning_tutorial.html</a></p>
<p>6.7<br>æ­£åœ¨å†™scratch_main.py<br>ç–‘é—®ï¼š<br>    1. è¿™ä¸ªtrain, val, test æ˜¯æ€ä¹ˆåˆ†çš„,å­å›¾è¿˜æ˜¯ï¼Ÿ<br>    ???<br>        evaluateå’Œtestæœ‰ä»€ä¹ˆåŒºåˆ«<br>    2. evaluateé‡Œçš„counterfactual metrixæ˜¯æ€ä¹ˆç®—çš„ï¼Ÿ<br>    3. Injectionçš„å‚æ•°<br>    4. githubæ€ä¹ˆä¸Šä¼ <br>    5. </p>
<p>6.11<br>    Paulå¼ºè°ƒSRSæ˜¯ä¸ºäº†ä¸°å¯Œç®€å†çš„ï¼Œè¦å¹²å¾ˆå¤šè·Ÿç”³ç ”ç›¸å…³çš„äº‹æƒ…ã€‚<br>    çœ‹çœ‹æ•™æˆç°åœ¨åœ¨å¹²ä»€ä¹ˆï¼Œfellowshipæ˜¯å•¥ï¼Œï¼Œï¼Ÿï¼Ÿï¼Ÿï¼Ÿpracticing interviewã€‚<br>    å‡å¤šå°‘å­¦æ ¡ï¼Ÿï¼Ÿï¼Ÿæ²¡å¬æ‡‚<br>    5-8<br>    16ï¼Ÿï¼Ÿï¼Ÿ</p>
<h1 id="2024-06-12-Meeting"><a href="#2024-06-12-Meeting" class="headerlink" title="2024.06.12 Meeting"></a>2024.06.12 Meeting</h1><ol>
<li>CF + guå­¦å§çš„ä¸‰ä¸ªæ–¹æ³•</li>
<li>gpuçš„é—®é¢˜è¿˜æ²¡æœ‰è§£å†³</li>
<li>injectçš„å¥½åƒä¸æ˜¯ç‰¹åˆ«å½±å“fairness</li>
</ol>
<p>æ•°æ®é›†çš„æ„é€ æ–¹é¢åœ¨sensitivity groupå’Œæ˜¯ä¸æ˜¯outlierä¹‹é—´åŠ ä¸Šcasualityã€‚FairGADç”¨äº†debiaserçš„æ–¹æ³•ä½¿fairnessé«˜äº†ä¸€ç‚¹<br>run Jingâ€™s method for GAD: shengenåœ¨åš<br>Check with Yifei for GPUï¼šcheckäº†ï¼Œç°åœ¨ä¸€äº›modelåœ¨å¤§çš„æ•°æ®é›†ä¸Šè¿˜è¦åˆ†batchã€‚<br>Check CF scoresï¼šè£…äº†ä¸¤å¤©ç¯å¢ƒï¼Œ<br>Complete remaining experimentsï¼šæ²¡æœ‰<br>brainstorm so that outlier injection contains sensitivityï¼šè®¤ä¸º<br>CF using DA</p>
<p>Motivationï¼š outlier detectionï¼Œ<br>Fairnesæœ‰æ•ˆçš„æ•°æ®é›†ï¼š<br>Outlierçš„æ³¨å…¥ï¼š</p>
<h2 id="6-12-é—®é¢˜"><a href="#6-12-é—®é¢˜" class="headerlink" title="6.12 é—®é¢˜"></a>6.12 é—®é¢˜</h2><h3 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h3><p>ä¸€ä¸ªä¸‹åˆä¸»è¦éƒ½åœ¨è§£å†³gpuçš„é—®é¢˜ï¼Œ</p>
<h4 id="1"><a href="#1" class="headerlink" title="1"></a>1</h4><p>é¦–å…ˆç›®å‰æœ€å¤§çš„è°œå›¢æ˜¯Pygodä¸­AdONE(gpu&#x3D;0)è¿™é‡Œçš„å…‰è°±ä¸ºå•¥åªèƒ½æ˜¯0<br>æˆ‘å»æ‰¾äº†æºä»£ç ï¼Œåº”è¯¥å¯ä»¥æ˜¯int cudaçš„idï¼Œæ‰€ä»¥ç†è®ºä¸Šåº”è¯¥æ˜¯0-7 éƒ½å¯ä»¥çš„ï¼Œä½†æ˜¯åªæœ‰0å¯è¡Œï¼Œ<br>ä¸»è¦ä»£ç <br>pygod&#x2F;pygod&#x2F;detector&#x2F;base <br>pygod&#x2F;utils&#x2F;utility.py çš„<code>validate_device(gpu_id)</code>å‡½æ•°<code>gpu_id</code>å°±æ˜¯<code>DOMINANT(gpu=0)</code>é‡Œçš„<code>gpu</code></p>
<h4 id="2"><a href="#2" class="headerlink" title="2"></a>2</h4><p>è¿˜æœ‰ä¸€ä¸ªå¾ˆè ¢å¾—å·²ç»è¢«è§£å†³çš„é—®é¢˜æ˜¯<br>ä¸ºä»€ä¹ˆ.shæ–‡ä»¶ä¼šæŠ¥ã€‚ ä¹‹å‰ä¸€ç›´ä¸æ˜ç™½ä¸ºä»€ä¹ˆå‘½ä»¤è¡Œå°±æ²¡é—®é¢˜ï¼Œä½†æ˜¯.sh å°±ä¸å¯ä»¥ï¼Œåæ¥å‘ä¿¡å•Šæ˜¯æ¨¡å‹ä¹‹é—´çš„åŒºåˆ«<br>    torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 3.35 GiB. GPU 0 has a total capacty of 23.65 GiB of which 3.01 GiB is free. Including non-PyTorch memory, this process has 20.63 GiB memory in use. Of the allocated memory 16.79 GiB is allocated by PyTorch, and 3.35 GiB is reserved by PyTorch but unallocated. If reserved but unallocated memory is large try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF<br>è¿™ç§é”™ï¼Œ<br>ä¿®æ”¹çš„æ–¹å¼æ˜¯</p>
<ol>
<li><p>åœ¨ray tune é‡ŒæŠŠç½‘ç»œå¾—å¤§å°ä¿®æ”¹å°ä¸€ç‚¹ï¼Œå¹¶ä¸”åˆ†batchï¼Œé€šè¿‡åœ¨trainæœ€åé‡Šæ”¾å†…å­˜</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">defv train():</span><br><span class="line">    ... ...</span><br><span class="line">    torch.cuda.empty_cache() </span><br><span class="line">    return</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨ray tune åˆ†batchã€‚åœ¨mainå¾—ç¬¬ä¸€å¥åŠ ä¸Š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.environ[&#x27;PYTORCH_CUDA_ALLOC_CONF&#x27;] = &#x27;max_split_size_mb:128&#x27;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ¬èº«å› ä¸ºdatasetå’Œmodelçš„å¤§å°ä¸åŒï¼Œæ‰€ä»¥æœ‰çš„æ¨¡å‹è¢«è·‘å‡ºæ¥çš„å¯è¡Œæ€§å°±æ˜¯è¦å°ä¸€ç‚¹<br>æ¯”å¦‚ä»synthetic &lt; german &lt; bail &lt; credit &lt; pokec<br>å‰ä¸‰ä¸ªæ˜¯å¯ä»¥è·‘æ‰€æœ‰æ¨¡å‹çš„ï¼Œ<br>ä½†æ˜¯creditä¸å¯ä»¥è·‘gaan, ä¼šç«™600GiBçš„å†…å­˜ï¼Œguideä¹Ÿéå¸¸æ…¢ï¼Œ credit+guideæ ¹æœ¬æ²¡ä¸Šgpuï¼Ÿï¼Ÿï¼Ÿ<br>ç„å­¦</p>
</li>
</ol>
<h3 id="6-14-CF"><a href="#6-14-CF" class="headerlink" title="6.14 CF"></a>6.14 CF</h3><p>cf_eoo, cf_dp, df, eoo, dp åœ¨è®ºæ–‡ä¸­åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆ<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2201.03662">https://arxiv.org/pdf/2201.03662</a></p>
<p>sens rate </p>
<p>è®ºæ–‡ç®—cfçš„æ–¹æ³•æ˜¯:<br>å¯¹æ¯”åŸå›¾å’Œç»è¿‡ä¿®æ”¹sens featureï¼ˆç±»ä¼¼äºperturbeçš„æ‰‹æ³•ï¼‰ï¼Œé€šè¿‡$hat y$ä¹‹é—´çš„æ¥ç®—cf</p>
<p>é‡ç‚¹æ˜¯å¦‚ä½•å¾—åˆ° modified dataï¼Œ ä¹Ÿå°±æ˜¯ evaluate ä¸­çš„ data_cf</p>
<p>éšæœºå– sens_rate * N ä¸ªèŠ‚ç‚¹ï¼Œä½¿$S_i$ä¸º1ï¼Œå‰©ä¸‹ä¸º0.</p>
<h3 id="GEARé…ç¯å¢ƒè¸©å‘"><a href="#GEARé…ç¯å¢ƒè¸©å‘" class="headerlink" title="GEARé…ç¯å¢ƒè¸©å‘"></a>GEARé…ç¯å¢ƒè¸©å‘</h3><p>pygå¾ˆçƒ¦äºº<br>æˆ‘æ˜¯å…ˆè£…äº†torch1.6.0 + cu10.2<br>ç„¶åå‘ç°pyg&#x3D;1.3.0 æ˜¯æœ€è€ç‰ˆæœ¬çš„ï¼Œå°±googleåˆ°äº†pygçš„çš„source code ï¼š <a target="_blank" rel="noopener" href="https://github.com/pyg-team/pytorch_geometric/releases/tag/1.3.0">https://github.com/pyg-team/pytorch_geometric/releases/tag/1.3.0</a><br>ç„¶åå°±åº”è¯¥python setup.py install,ä½†æ˜¯<strong>ç½‘å¾ˆæ…¢</strong>ï¼Œ æ‰€ä»¥è¦å¤šç­‰ä¸€ä¼š<br>ç„¶åçœ‹åˆ°readmeä¹‹åæ‰‹åŠ¨è£…äº†ä¸ªtorch-sparseä¸€ç±»çš„whlï¼š <a target="_blank" rel="noopener" href="https://data.pyg.org/whl/">https://data.pyg.org/whl/</a><br>åæ¥å¾ˆå‚»çš„æ‰å‘ç°python setup.py installï¼Œç­‰äº†3åˆ†é’Ÿä¹‹åæŠ¥é”™ï¼Œæ— pytest-runnerï¼Œ äºæ˜¯è¿›setup.pyçœ‹äº†ä¸€ä¸‹ä¹‹åæ‰‹åŠ¨pip install pytest-runner pytest pytest-cov mock,<br>ç„¶åpython setup.py installä¸€ä¸‹å­å°±å¥½äº†ï¼Œäºæ˜¯åˆæ‰‹åŠ¨ pip install pandas matplotlib Cpython cytoolz aif360</p>
<p>è£…åˆ°aif360 æŠ¥é”™Failed building wheel for llvmliteï¼Œåº”è¯¥æ˜¯æ²¡æœ‰llvmï¼Œäºæ˜¯æ‰‹åŠ¨æœ¬åœ°è£…<br>è£…äº†9.0.0çš„ç‰ˆæœ¬</p>
<pre><code>å¦‚æœ `llvmlite` çš„é¢„æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶å’Œ `conda` æ–¹æ³•éƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œæ™®é€šç”¨æˆ·å¯ä»¥åœ¨ç”¨æˆ·ç›®å½•ä¸­å®‰è£… LLVMï¼Œè€Œä¸éœ€è¦ `sudo` æƒé™ã€‚



<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½å¹¶è§£å‹ LLVM</span></span><br><span class="line">wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.1.0/llvm-11.1.0.src.tar.xz</span><br><span class="line">tar -xf llvm-11.1.0.src.tar.xz</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ„å»ºç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> llvm-11.1.0.build</span><br><span class="line"><span class="built_in">cd</span> llvm-11.1.0.build</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®ç¼–è¯‘ï¼ˆå®‰è£…åœ¨ç”¨æˆ·ç›®å½•ï¼‰</span></span><br><span class="line">cmake -G <span class="string">&quot;Unix Makefiles&quot;</span> -DCMAKE_INSTALL_PREFIX=<span class="variable">$HOME</span>/llvm ../llvm-11.1.0.src</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¯‘å’Œå®‰è£…</span></span><br><span class="line">make -j$(<span class="built_in">nproc</span>)</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

ç„¶åè®¾ç½®ç¯å¢ƒå˜é‡ä»¥ä½¿ç”¨æœ¬åœ°å®‰è£…çš„ LLVMï¼š

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$HOME</span>/llvm/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$HOME</span>/llvm/lib:<span class="variable">$LD_LIBRARY_PATH</span></span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install llvmlite --no-binary llvmlite</span><br></pre></td></tr></table></figure>

ä¹‹åå†å®‰è£… `aif360`ï¼š

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install aif360</span><br></pre></td></tr></table></figure>
</code></pre>
<p>ä½†æ˜¯è¿˜æ˜¯ä¼šæŠ¥wheel build å¤±è´¥çš„é”™è¯¯ã€‚<br>äºæ˜¯å°±ç›´æ¥ç»•è¿‡aif360,å› ä¸ºåªç”¨äº†ä¸¤ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ç›´æ¥å¤åˆ¶å‡½æ•°å’Œå¿…è¦çš„utilè¿‡æ¥äº†ï¼Œç»•è¿‡å®‰è£…aif360çš„é—®é¢˜äº†ã€‚<br>å®é™…ä¸Šaif360å¯¹python 3.8ä¹‹åæ‰æ¯”è¾ƒå…¼å®¹ï¼Œæ‰€ä»¥ä»¥åç”¨æ–°ä¸€ç‚¹çš„ç¯å¢ƒã€‚</p>
<p>ç„¶åé‡åˆ°äº†AttributeError: Canâ€™t get attribute â€˜DataEdgeAttrâ€™<br>import torch_geometric.transforms as T<br>from ogb.nodeproppred import PygNodePropPredDataset<br>shoujuå­¦å§æé†’å¯ä»¥csdnï¼Œï¼ˆè¿™æ¬¡æä¾›çš„è§£å†³æ–¹æ¡ˆç¡®å®å’Œgptä¸ä¸€æ ·ï¼‰<a target="_blank" rel="noopener" href="https://blog.csdn.net/oqqENvY12/article/details/129786928">https://blog.csdn.net/oqqENvY12/article/details/129786928</a> ä¹Ÿæœ‰ä¸€éƒ¨åˆ†ç‰ˆæœ¬è¿‡è€çš„é—®é¢˜<br>ä½†æ˜¯é€šè¿‡è§‚å¯Ÿï¼Œæ˜¯è·¯å¾„é—®é¢˜ï¼ŒæŠŠä¸€ä¸ªç›¸å¯¹main.py line 541çš„ç›¸å¯¹è·¯å¾„æ”¹æˆç»å¯¹è·¯å¾„å°±æˆåŠŸäº†ï¼Œ<br>æˆ‘è§‰å¾—<strong>13.23çš„æœåŠ¡å™¨åœ¨è·¯å¾„ä¸Šç¡®å®æœ‰äº›ç„ä¹</strong></p>
<ul>
<li>è¿è¡Œç»“æŸä¹‹åæ²¡æœ‰åŠæ³•è‡ªåŠ¨å…³é—­</li>
<li>german æ•°æ®é›†æ— æ³•æ­£å¸¸ç”Ÿæˆ</li>
</ul>
<h3 id="Guå­¦å§çš„ä¸‰ä¸ªmodel"><a href="#Guå­¦å§çš„ä¸‰ä¸ªmodel" class="headerlink" title="Guå­¦å§çš„ä¸‰ä¸ªmodel"></a>Guå­¦å§çš„ä¸‰ä¸ªmodel</h3><p>ä¸‡èƒ½çš„CSDN<br>Collecting package metadata (current_repodata.json): - WARNING conda.models.version:get_matcher(546): Using .* with relational operator is superfluous and deprecated and will be removed in a future version of conda. Your spec was 1.7.1.<em>, but conda is ignoring the .</em> and treating it as 1.7.1<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/ermmtt/article/details/132628639">https://blog.csdn.net/ermmtt/article/details/132628639</a></p>
<h3 id="Batché—®é¢˜"><a href="#Batché—®é¢˜" class="headerlink" title="Batché—®é¢˜"></a>Batché—®é¢˜</h3><h3 id="Python-æ’ä»¶"><a href="#Python-æ’ä»¶" class="headerlink" title="Python æ’ä»¶"></a>Python æ’ä»¶</h3><p>è¿™ä¸ªæ˜¯æœ€å‚»çš„ï¼Œä¸‹è½½äº† vsix ä¹‹åå‘ç° vscode ç‰ˆæœ¬å¯¹ä¸ä¸Šï¼Œ ç„¶åæ›´æ–°äº†ä¸€ä¸‹ vscode å°±å¥½äº†ã€‚ã€‚ã€‚</p>
<h1 id="2024-06-24-Meeting"><a href="#2024-06-24-Meeting" class="headerlink" title="2024.06.24 Meeting"></a>2024.06.24 Meeting</h1><h2 id="2024-06-19"><a href="#2024-06-19" class="headerlink" title="2024.06.19"></a>2024.06.19</h2><p>(åˆšåˆšæ‰äº†è§£ Encoder å’Œ Decoder ä¹Ÿç®—æ˜¯ GNNï¼Œç„¶åçœ‹äº†ä¸€äº›ä¸œè¥¿<br>(OIä½¬å†™çš„GEARä»£ç ï¼Œçœ‹ä¸æ‡‚ï¼Œ</p>
<h1 id="2024-07-14"><a href="#2024-07-14" class="headerlink" title="2024.07.14"></a>2024.07.14</h1><!-- ç«Ÿç„¶è¿‡äº†ä¸€ä¸ªæœˆäº†ã€‚ -->

<h2 id="2024-06-10å¼€ä¼š"><a href="#2024-06-10å¼€ä¼š" class="headerlink" title="2024.06.10å¼€ä¼š"></a>2024.06.10å¼€ä¼š</h2><ol>
<li>åšbenchmark. + Jingå­¦å§çš„ä¸‰ä¸ªHNNå·²ç»æ”¹æˆäº†Classä½†æ˜¯AUCè¿˜æ˜¯å¤ªä½äº†ã€‚ã€‚ã€‚</li>
<li>æ‰‹å†™encoderå’Œdecoderã€‚ç»“æ„æœªçŸ¥ï¼Œä½†æ˜¯ä¸»è¦æ˜¯ä¿®æ”¹Loss Function???åŸºäºCFçš„ï¼Œå¯ä»¥åœ¨dominantä¸Šä¿®æ”¹</li>
<li>è§£é‡Šä¸ºä»€ä¹ˆCFæ˜¯ä½çš„ï¼Œçœ‹decoderå‡ºæ¥çš„sensâ€™ï¼Œæ˜¯è¿˜åŸäº†sensè¿˜æ˜¯éƒ½æ˜¯1&#x2F;2.è¿™ä¸¤è€…éƒ½æ˜¯å¯ä»¥è§£é‡Šçš„</li>
<li>åœ¨å­¦ä¸€ä¸‹CFä¹‹ç±»çš„ç†è®ºã€‚</li>
<li>GNNNNNNNNNN</li>
</ol>
<h1 id="2024-08-15"><a href="#2024-08-15" class="headerlink" title="2024.08.15"></a>2024.08.15</h1><!-- ç«Ÿç„¶åˆè¿‡äº†ä¸€ä¸ªæœˆäº†ã€‚ -->
<!-- æŠ½è±¡ï¼Œå®Œå…¨ä¸çŸ¥é“è‡ªå·±åœ¨å¹²å•¥ã€‚ã€‚ã€‚ -->

<ol>
<li>DOIMINANT 19, DONE 21, gadnr 24, ada-gad 234. (CFGN denied)</li>
<li>benchmarkå’Œä¸€äº›sens reconstruct çš„å€¼å¯¹æ¯”ï¼ˆä¹‹å‰è²Œä¼¼åªä½œäº†guide 21çš„ï¼‰</li>
<li>è®ºæ–‡ä¹Ÿçœ‹ä¸å‡ºæ¥åœ¨å†™å•¥</li>
<li></li>
</ol>
<p>08.18 äº¤srsæŠ¥å‘Š<br>08.25 GRE è€ƒè¯•ï¼Œå¯„<br>æ‰¾solæ•™æˆè¯¢é—®music techæ–¹å‘çš„é—®é¢˜<br>è®ºæ–‡è®ºæ–‡è®ºæ–‡</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/08/2024-05-08-Meetings-log/" data-id="cm9bnagq00018zc3dddgmbccv" data-title="papers" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2024/05/19/2024-05-19-CS224W-notes/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          CS224W_notes
        
      </div>
    </a>
  
  
    <a href="/2024/03/08/2024-03-08-LHY-ML/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">LHY ML</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/music/" rel="tag">music</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/" rel="tag">tools</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/music/" style="font-size: 10px;">music</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/04/">April 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">March 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">February 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">January 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">November 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">October 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">September 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">June 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/04/01/2025-04-01-Linux-server-proxy-issue/">2025-04-01-Linux-server-proxy-issue</a>
          </li>
        
          <li>
            <a href="/2025/04/01/2025-04-01-mt-implementation-log/">2025-04-01-mt-implementation-log</a>
          </li>
        
          <li>
            <a href="/2025/03/09/2025-03-08-medication/">2025-03-08 medication</a>
          </li>
        
          <li>
            <a href="/2025/02/15/2025-02-15-DS/">2025-02-15-DS</a>
          </li>
        
          <li>
            <a href="/2025/01/29/2025-01-29-CV/">2025-01-29-CV</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>